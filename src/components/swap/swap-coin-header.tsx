import { cn } from "~/utils/cn";
import { type CoinT } from "~/utils/types";

const SwapCoinHeader = ({
  fromCoin,
  toCoin,
  swapValue = 0.012501,
  swapPercentage = "-2.7",
}: {
  fromCoin: CoinT | undefined;
  toCoin: CoinT | undefined;
  swapValue: number;
  swapPercentage: string;
}) => {
  return (
    <div
      className="relative mx-auto h-36 max-w-[480px] overflow-hidden rounded-2xl border-2 border-solid border-[#2A2A2A] p-5"
      style={{
        background: "linear-gradient(180deg, #111111 0%, #1C1C1C 100%)",
      }}
    >
      <div className="flex items-center justify-between">
        <SwapChart className="absolute -bottom-1 -left-1 right--1" />
        <div className="flex items-center space-x-1.5 text-sm">
          <p>
            {fromCoin?.symbol} / {toCoin?.symbol}
          </p>
          <p className="font-bold text-[#F24545]">{swapValue.toFixed(6)}</p>
        </div>
        <div className="flex items-center space-x-1.5 text-sm">
          <p
            className={cn(
              swapPercentage.startsWith("-")
                ? "text-[#F24545]"
                : "text-green-600",
              "font-bold",
            )}
          >
            {swapPercentage}%
          </p>
        </div>
      </div>
    </div>
  );
};

const SwapChart = ({ className }: { className?: string }) => (
  <svg
    width="477"
    height="91"
    viewBox="0 0 477 91"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    className={className}
  >
    <path
      d="M4.3294 22.7368L1 27.7361V79L4.5 85L12.5 91H466.693L476 83.5C472.671 79.5081 467.116 71.2099 460.458 60.323C453.799 49.4361 447.14 35.6461 440.481 34.7953C433.822 33.9444 427.164 46.0327 420.505 41.2335C413.846 36.4344 407.187 14.7478 400.528 7.83711C393.87 0.926399 387.211 8.79156 380.552 8.74217C373.893 8.69279 367.234 0.728874 360.576 2.51278C353.917 4.29668 347.258 15.8284 340.599 23.441C333.94 31.0537 327.282 34.7472 320.623 43.3178C313.964 51.8884 307.305 65.3362 300.646 62.4001C293.987 59.4641 287.329 40.1441 280.67 26.7793C274.011 13.4144 267.352 6.00467 260.693 10.005C254.035 14.0054 247.376 29.4158 240.717 25.7032C234.058 21.9906 227.399 -0.845131 220.741 0.0242004C214.082 0.893532 207.423 25.4679 200.764 32.5003C194.105 39.5326 187.447 29.0229 180.788 26.8871C174.129 24.7512 167.47 30.9892 160.811 28.9186C154.153 26.8481 147.494 16.469 140.835 14.0927C134.176 11.7163 127.517 17.3427 120.859 18.8724C114.2 20.4022 107.541 17.8353 100.882 24.8799C94.2233 31.9245 87.5645 48.5806 80.9057 54.4846C74.2469 60.3887 67.5881 55.5409 60.9293 48.0165C54.2705 40.4922 47.6116 30.2914 40.9528 21.4659C34.294 12.6405 27.6352 5.19042 20.9764 6.46468C14.3176 7.73895 7.65881 17.7375 4.3294 22.7368Z"
      fill="url(#paint0_linear_104_3266)"
    />
    <path
      d="M1.6792 29.7637L5.00606 24.7594C8.33293 19.7552 14.9867 9.74665 21.6404 8.47112C28.2941 7.19559 34.9478 14.653 41.6016 23.4873C48.2553 32.3215 54.909 42.5324 61.5628 50.0642C68.2165 57.596 74.8702 62.4487 81.5239 56.5388C88.1777 50.6288 94.8314 33.9562 101.485 26.9046C108.139 19.853 114.793 22.4224 121.446 20.8912C128.1 19.3599 134.754 13.728 141.407 16.1067C148.061 18.4854 154.715 28.8748 161.369 30.9474C168.022 33.0199 174.676 26.7758 181.33 28.9138C187.984 31.0517 194.637 41.5719 201.291 34.5326C207.945 27.4932 214.599 2.89444 221.252 2.02424C227.906 1.15404 234.56 24.0124 241.213 27.7288C247.867 31.4451 254.521 16.0193 261.175 12.015C267.828 8.01065 274.482 15.4278 281.136 28.8059C287.79 42.184 294.443 61.5231 301.097 64.4621C307.751 67.4011 314.404 53.94 321.058 45.3608C327.712 36.7817 334.366 33.0845 341.019 25.4643C347.673 17.8441 354.327 6.30097 360.981 4.51529C367.634 2.72961 374.288 10.7014 380.942 10.7509C387.595 10.8003 394.249 2.92734 400.903 9.84492C407.557 16.7625 414.21 38.4706 420.864 43.2745C427.518 48.0784 434.172 35.9781 440.825 36.8298C447.479 37.6815 454.133 51.4852 460.786 62.3829C467.44 73.2806 472.267 79.0041 475.594 83"
      stroke="#F24545"
      strokeWidth="2"
      strokeLinecap="round"
    />
    <defs>
      <linearGradient
        id="paint0_linear_104_3266"
        x1="238.5"
        y1="91"
        x2="238.5"
        y2="-0.376357"
        gradientUnits="userSpaceOnUse"
      >
        <stop stopColor="#802525" stopOpacity="0.1" />
        <stop offset="1" stopColor="#802525" />
      </linearGradient>
    </defs>
  </svg>
);

export { SwapCoinHeader };
